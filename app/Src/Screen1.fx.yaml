Screen1 As screen:

    Button2 As button:
        OnSelect: |-
            = ClearCollect(
                LeaveTypeCollection, 
                    Table(
                            {
                                type:"Annual", 
                                icon:vacation,
                                iconselected:'vacation-selected',
                                description:
                                "Tips:
                                1. (Employee's year of service less than 3 years) = 14 days
                                (Employee's year of service more than 3 years) = 16 days
                                (Position: (Team lead & above) && year of service more than 5 years) = 18 days
            
                                2. Only a maximum of seven (07) days annual leave may be carried forward to the next calendar year. The excess leave unutilised shall be deemed forfeited and also The seven (7) days annual leave which has been carried forward to the next calendar year shall be cleared by end of March (the next quarter) of the next calendar year. The excess leave unutilized shall be deemed 
            forfeited.
            "
                            }
                            ,
                            {
                                type:"Medical", 
                                icon:'sick-leave', 
                                iconselected:'sick-leave-selected',
                                description:"Tips:
                                1. Medical Leave shall be defined as approved leave of absence resulting from illness, disease or injury as certified by the Company Panel Doctor / Government Medical Officer / registered medical practitioner.
            An employee shall also be entitled to paid leave after examination by a dental surgeon as defined in the Dental 
            Act 1971. An employee shall provide a medical certificate from the Government Medical Officer / registered medical 
            practitioner as evidence of absence covering all days of sickness.
            2. Total days for medical leave = 14
            ."
                            }
                                ,
                            {
                                type:"Casual Immediate", 
                                description:"a. Death of a member of the employee's family. First relation 
            (parents/ parents-in-law/ spouse/ children)
            03 days
            
            In aggregate, the number of days taken under Casual Immediate and Casual Second shall not exceed 03 days in any calendar year.."
                            }
                            ,
                            {
                                type:"Casual Second", 
                                description:"
            Death of a member of the employee's family. Second relations 
            (grandparents / brothers / sisters /grandchildren)
            02 days
            In aggregate, the number of days taken under Casual Immediate and Casual Second shall not exceed 03 days in any calendar year.."
                            }
                                ,
                            {
                                type:"Hospitalization", 
                                description:"Where hospitalization is necessary 60 days (including 14 days of medical leave)."
                            }
                                ,
                            {
                                type:"Paternity", 
                                description:"Entitled to 7 days of paid paternity leave under Subsection 60FA; these days must be taken consecutively.
             The requirements are:
            • The male employee must be married to the mother in question.
            • He must have been employed by the same employer for at least 12 months.
            • He must notify the employer at least 30 days from expected confinement (or as early as possible)."
                            }
                                ,
                            {
                                type:"Marriage", 
                                description:"A full-time confirmed employee who has completed a minimum of twelve (12) months of continuous service is 
            entitled to 3 days of leave on the occasion of his first legal marriage while in the service of the Company.."
                            }
                                ,
                            {
                                type:"Maternity", 
                                description:"A full-time confirmed female employee will be entitled to 98 Consecutive days of paid maternity leave. For 
            miscarriage maternity leave only apply upon seven full months of pregnancy under the labour law.
            "
                            }
                        )
             )
        Text: ="Leave type"
        X: =489
        Y: =78
        ZIndex: =1

    Button4 As button:
        Height: =106
        OnSelect: |-
            =ClearCollect(RequesterBalanceCollection,Table({type:"Annual leave",balance:14},{type:"Medical leave",balance:14},{type:"Compassionate leave",balance:3},{type:"Paternity leave",balance:10},{type:"Maternity leave",balance:10},{type:"Hospitalization leave",balance:10},{type:"Unpaid leave",balance:0},{type:"Marriage leave",balance:10}))
        Text: ="Requester balance"
        X: =865
        Y: =176
        ZIndex: =2

    Button3 As button:
        Fill: =RGBA(141, 198, 63, 1)
        OnSelect: |
            =Patch(
                LeaveApp_Employee,
                Defaults(LeaveApp_Employee),
                LookUp(
                    LeaveApp_Employee,
                    Created_By.Email = User().Email && LeaveType = _selectedLeaveType
                    // Add other conditions as needed to uniquely identify the record
                ),
                {
                    Annual_x0020_Leave_x0020_Balance: If(
                        _selectedLeaveType = "Annual",
                        LeaveApp_Employee.Annual_x0020_Leave_x0020_Balance - _requestedDays,
                        LeaveApp_Employee.Annual_x0020_Leave_x0020_Balance
                    ),
                    MedicalLeaveBalance: If(
                        _selectedLeaveType = "Medical",
                        LeaveApp_Employee.MedicalLeaveBalance - _requestedDays,
                        LeaveApp_Employee.MedicalLeaveBalance
                    ),
                    CasualImmediateLeaveBalance: If(
                        _selectedLeaveType = "Casual Immediate",
                        LeaveApp_Employee.CasualImmediateLeaveBalance - _requestedDays,
                        LeaveApp_Employee.CasualImmediateLeaveBalance
                    ),
                    CasualSecondLeaveBalance: If(
                        _selectedLeaveType = "Casual Second",
                        LeaveApp_Employee.CasualSecondLeaveBalance - _requestedDays,
                        LeaveApp_Employee.CasualSecondLeaveBalance
                    ),
                    MarriageLeaveBalance: If(
                        _selectedLeaveType = "Marriage",
                        LeaveApp_Employee.MarriageLeaveBalance - _requestedDays,
                        LeaveApp_Employee.MarriageLeaveBalance
                    ),
                    PaternityLeaveBalance: If(
                        _selectedLeaveType = "Paternity",
                        LeaveApp_Employee.PaternityLeaveBalance - _requestedDays,
                        LeaveApp_Employee.PaternityLeaveBalance
                    ),
                    MaternityLeaveBalance: If(
                        _selectedLeaveType = "Maternity",
                        LeaveApp_Employee.MaternityLeaveBalance - _requestedDays,
                        LeaveApp_Employee.MaternityLeaveBalance
                    ),
                    HospitalizationLeaveBalance: If(
                        _selectedLeaveType = "Hospitalization",
                        LeaveApp_Employee.HospitalizationLeaveBalance - _requestedDays,
                        LeaveApp_Employee.HospitalizationLeaveBalance
                    )
                    // Add other leave types as needed
                }
            )
        Text: ="Approve"
        X: =70
        Y: =176
        ZIndex: =11

    GroupRequestInfo_1 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =11

        Label1_6 As label:
            FocusedBorderColor: =Label1_6.BorderColor
            Font: =Font.Lato
            FontWeight: =FontWeight.Bold
            Height: =21
            HoverBorderColor: =Label1_6.BorderColor
            HoverColor: =Label1_6.Color
            HoverFill: =Label1_6.Fill
            OnSelect: =""
            PressedBorderColor: =Label1_6.BorderColor
            PressedColor: =Label1_6.Color
            PressedFill: =Label1_6.Fill
            Size: =13.5
            Text: |-
                ="Submit request to:"
            Width: =300
            X: =252
            Y: =458
            ZIndex: =3

        Label1_14 As label:
            FocusedBorderColor: =Label1_14.BorderColor
            Font: =Font.Lato
            FontWeight: =FontWeight.Bold
            Height: =21
            HoverBorderColor: =Label1_14.BorderColor
            HoverColor: =Label1_14.Color
            HoverFill: =Label1_14.Fill
            OnSelect: =""
            PressedBorderColor: =Label1_14.BorderColor
            PressedColor: =Label1_14.Color
            PressedFill: =Label1_14.Fill
            Size: =13.5
            Text: |-
                ="About your leave:"
            Width: =300
            X: =565
            Y: =458
            ZIndex: =4

        Label1_15 As label:
            FocusedBorderColor: =Label1_15.BorderColor
            Font: =Font.Lato
            FontWeight: =FontWeight.Bold
            Height: =21
            HoverBorderColor: =Label1_15.BorderColor
            HoverColor: =Label1_15.Color
            HoverFill: =Label1_15.Fill
            OnSelect: =""
            PressedBorderColor: =Label1_15.BorderColor
            PressedColor: =Label1_15.Color
            PressedFill: =Label1_15.Fill
            Size: =10.5
            Text: |-
                ="Detail:"
            Width: =300
            X: =565
            Y: =489
            ZIndex: =5

        TextInput1_2 As text:
            AccessibleLabel: ="Leave detail"
            BorderColor: =RGBA(0, 71, 144, 1)
            Default: =_leaveDetail
            FocusedBorderColor: =TextInput1_2.BorderColor
            Font: =Font.Lato
            Height: =74
            Mode: =TextMode.MultiLine
            OnSelect: =""
            PressedBorderColor: =TextInput1_2.HoverBorderColor
            PressedColor: =TextInput1_2.Color
            PressedFill: =TextInput1_2.Fill
            Size: =10.5
            Width: =551
            X: =565
            Y: =530
            ZIndex: =6

        Image2_1 As image:
            FocusedBorderColor: =Image2_1.BorderColor
            Height: =35
            HoverBorderColor: =ColorFade(Image2_1.BorderColor, 20%)
            HoverFill: =ColorFade(Image2_1.Fill, 20%)
            Image: =If(!IsBlank(_selectedApproverPhoto),_selectedApproverPhoto)
            OnSelect: =""
            PressedBorderColor: =ColorFade(Image2_1.BorderColor, -20%)
            PressedFill: =ColorFade(Image2_1.Fill, -20%)
            RadiusBottomLeft: =30
            RadiusBottomRight: =30
            RadiusTopLeft: =30
            RadiusTopRight: =30
            Width: =35
            X: =252
            Y: =489
            ZIndex: =7

        Label1_16 As label:
            FocusedBorderColor: =Label1_16.BorderColor
            Font: =Font.Lato
            FontWeight: =FontWeight.Bold
            Height: =55
            HoverBorderColor: =Label1_16.BorderColor
            HoverColor: =Label1_16.Color
            HoverFill: =Label1_16.Fill
            OnSelect: =""
            PressedBorderColor: =Label1_16.BorderColor
            PressedColor: =Label1_16.Color
            PressedFill: =Label1_16.Fill
            Size: =12
            Text: =If(!IsBlank(_selectedApprover.DisplayName),_selectedApprover.DisplayName,"Select an approver by clicking Change")
            X: =299
            Y: =489
            ZIndex: =8

        RectSeparator_2 As rectangle:
            AccessibleLabel: ="Separator"
            BorderColor: =RGBA(255, 37, 0, 0)
            DisabledFill: =RectSeparator_2.Fill
            Fill: =RGBA(205, 205, 205, 1)
            FocusedBorderColor: =RectSeparator_2.BorderColor
            Height: =1
            HoverFill: =RectSeparator_2.Fill
            OnSelect: =""
            PressedFill: =RectSeparator_2.Fill
            Width: =864
            X: =252
            Y: =428
            ZIndex: =9

        Button3_1 As button:
            BorderColor: =ColorFade(Button3_1.Fill, -15%)
            BorderThickness: =0
            Color: =RGBA(10, 106, 204, 1)
            DisabledBorderColor: =ColorFade(Button3_1.BorderColor, 70%)
            Fill: =Parent.Fill
            FocusedBorderColor: =Button3_1.BorderColor
            Height: =21
            HoverBorderColor: =ColorFade(Button3_1.BorderColor, 20%)
            HoverColor: =Button3_1.Color
            HoverFill: =ColorFade(Button3_1.Fill, 20%)
            OnSelect: =""
            PressedBorderColor: =Button3_1.Fill
            PressedColor: =Button3_1.Fill
            PressedFill: =Button3_1.Color
            Size: =10
            Text: ="Change"
            Tooltip: ="Change approving manager"
            Width: =70
            X: =454
            Y: =503
            ZIndex: =10

    Button3_2 As button:
        Fill: =RGBA(237, 28, 36, 1)
        Text: ="Reject"
        X: =273
        Y: =176
        ZIndex: =12

